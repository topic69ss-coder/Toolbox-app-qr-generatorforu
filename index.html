<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Toolbox - QR Generator</title>

<style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Inter,Arial;}
    body{background:#f2f3f7;padding-bottom:70px;} /* Space for bottom nav */
    header{background:white;padding:14px;font-size:20px;font-weight:700;
           text-align:center;box-shadow:0 2px 10px rgba(0,0,0,0.06);position:sticky;top:0;z-index:10;}

    /* Screens */
    .screen{display:none;padding:18px;}
    .active-screen{display:block;}

    /* Bottom Nav */
    .bottom-nav{
        position:fixed;bottom:0;left:0;right:0;height:65px;
        display:flex;justify-content:space-around;align-items:center;
        background:white;border-top:1px solid #ddd;
        box-shadow:0 -2px 10px rgba(0,0,0,0.06);
        z-index:20;
    }
    .nav-item{
        flex:1;text-align:center;font-size:12px;color:#777;cursor:pointer;
        padding-top:6px;
    }
    .nav-item.active{color:#6c63ff;font-weight:700;}
    .nav-item span{display:block;font-size:20px;margin-bottom:2px;}

    /* Simple card */
    .card{background:white;border-radius:10px;padding:16px;
          box-shadow:0 3px 10px rgba(0,0,0,0.05);margin-bottom:18px;}

    /* Calculator */
    .display{
        background:#111;color:white;font-size:28px;
        padding:12px;border-radius:10px;text-align:right;margin-bottom:10px;
    }
    .keys{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;}
    .key{background:#fff;border-radius:8px;padding:16px;text-align:center;
         font-size:18px;box-shadow:0 2px 5px rgba(0,0,0,0.08);cursor:pointer;}
    .op{background:#6c63ff;color:white;}

    /* Inputs + buttons */
    input, select{
        width:100%;padding:10px;margin:8px 0;
        border-radius:8px;border:1px solid #ccc;
    }
    button{
        padding:12px;background:#6c63ff;color:white;border:none;
        border-radius:8px;width:100%;margin-top:10px;font-size:16px;
    }

    /* QR preview box */
    #qrPreview{
        margin-top:10px;display:flex;justify-content:center;
        align-items:center;background:white;border-radius:10px;
        height:220px;box-shadow:0 2px 5px rgba(0,0,0,0.05);
    }
</style>
</head>
<body>

<header id="screenTitle">Calculator</header>


<!-- CALCULATOR -->
<section id="screen-calculator" class="screen active-screen">
    <div class="card">
        <div class="display" id="calcDisplay">0</div>
        <div class="keys" id="calcKeys">
            <div class="key">7</div><div class="key">8</div><div class="key">9</div><div class="key op">/</div>
            <div class="key">4</div><div class="key">5</div><div class="key">6</div><div class="key op">*</div>
            <div class="key">1</div><div class="key">2</div><div class="key">3</div><div class="key op">-</div>
            <div class="key">0</div><div class="key">.</div><div class="key" id="clear">C</div><div class="key op">+</div>
            <div class="key op" id="equals" style="grid-column:span 4;background:#ff6b6b">=</div>
        </div>
    </div>
</section>


<!-- WEIGHT -->
<section id="screen-weight" class="screen">
    <div class="card">
        <h3>Weight Converter</h3>
        <input id="wValue" type="number" placeholder="Enter value">
        <select id="wFrom">
            <option value="kg">Kg</option>
            <option value="g">Gram</option>
            <option value="lb">Pound</option>
        </select>
        <select id="wTo">
            <option value="g">Gram</option>
            <option value="kg">Kg</option>
            <option value="lb">Pound</option>
        </select>
        <button onclick="convertWeight()">Convert</button>
        <p id="wResult"></p>
    </div>
</section>


<!-- CURRENCY -->
<section id="screen-currency" class="screen">
    <div class="card">
        <h3>Currency Converter</h3>
        <input id="cValue" type="number" placeholder="Amount">
        <select id="cFrom"><option>INR</option><option>USD</option></select>
        <select id="cTo"><option>USD</option><option>INR</option></select>
        <button onclick="convertCurrency()">Convert</button>
        <p id="cResult"></p>
    </div>
</section>


<!-- DISTANCE -->
<section id="screen-distance" class="screen">
    <div class="card">
        <h3>Distance Converter</h3>
        <input id="dValue" type="number" placeholder="Value">
        <select id="dFrom"><option>km</option><option>m</option></select>
        <select id="dTo"><option>m</option><option>km</option></select>
        <button onclick="convertDistance()">Convert</button>
        <p id="dResult"></p>
    </div>
</section>


<!-- QR GENERATOR -->
<section id="screen-qr" class="screen">
    <div class="card">
        <h3>QR Generator</h3>
        <input id="qrText" placeholder="Enter text/URL">
        <input id="qrFile" type="file" />
        <button id="makeQR">Generate QR</button>

        <div id="qrPreview">No QR yet</div>
        <button id="downloadQR" style="background:#ff6b6b;margin-top:12px">
            Download
        </button>

        <p id="qrMsg" style="margin-top:10px;"></p>
        <p id="thank" style="display:none;margin-top:10px;font-weight:700;color:#0a7f45;">
            Thank you for using toolbox-qr generator
        </p>
    </div>
</section>



<!-- BOTTOM NAV -->
<div class="bottom-nav" id="bottomNav">
    <div class="nav-item active" data-target="calculator">
        <span>üßÆ</span>Calc
    </div>
    <div class="nav-item" data-target="weight">
        <span>‚öñÔ∏è</span>Weight
    </div>
    <div class="nav-item" data-target="currency">
        <span>üí±</span>Currency
    </div>
    <div class="nav-item" data-target="distance">
        <span>üìè</span>Distance
    </div>
    <div class="nav-item" data-target="qr">
        <span>üì∑</span>QR
    </div>
</div>



<script>
// ---------------- Bottom Navigation ----------------
const title = document.getElementById("screenTitle");

document.querySelectorAll(".nav-item").forEach(item=>{
    item.addEventListener("click", ()=>{
        document.querySelectorAll(".nav-item").forEach(x=>x.classList.remove("active"));
        item.classList.add("active");

        let target = item.getAttribute("data-target");

        document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active-screen"));
        document.getElementById("screen-"+target).classList.add("active-screen");

        title.textContent = item.textContent.trim();
    });
});


// ---------------- Calculator ----------------
let calc = "";
const display = document.getElementById("calcDisplay");

document.getElementById("calcKeys").addEventListener("click",(e)=>{
    let key = e.target.innerText;

    if(key==="C"){ calc=""; display.textContent="0"; return; }
    if(key==="="){
        try{
            calc = eval(calc).toString();
        }catch{ calc="Error"; }
        display.textContent=calc; 
        return;
    }

    if(["+", "-", "*", "/"].includes(key)) calc += key;
    else calc += key;

    display.textContent = calc;
});


// ---------------- Weight ----------------
function convertWeight(){
    let v = Number(wValue.value);
    let from = wFrom.value;
    let to = wTo.value;

    let grams = {kg:v*1000, g:v, lb:v*453.592}[from];
    let out = {kg:grams/1000, g:grams, lb:grams/453.592}[to];

    wResult.textContent = `${v} ${from} = ${out.toFixed(4)} ${to}`;
}


// ---------------- Currency ----------------
function convertCurrency(){
    let v = Number(cValue.value);
    let f = cFrom.value;
    let t = cTo.value;

    let usd = f==="INR"? v/83 : v;
    let out = t==="INR"? usd*83 : usd;

    cResult.textContent = `${v} ${f} = ${out.toFixed(3)} ${t}`;
}


// ---------------- Distance ----------------
function convertDistance(){
    let v = Number(dValue.value);
    let from = dFrom.value, to = dTo.value;

    let meters = from==="km"? v*1000 : v;
    let out = to==="km"? meters/1000 : meters;

    dResult.textContent = `${v} ${from} = ${out.toFixed(4)} ${to}`;
}


// ---------------- QR Generator ----------------
let qrURL = "";

document.getElementById("makeQR").onclick = ()=>{
    let text = qrText.value.trim();

    if(!text){
        qrMsg.textContent="Enter text first.";
        return;
    }

    qrURL = `https://chart.googleapis.com/chart?cht=qr&chs=300x300&chl=${encodeURIComponent(text)}`;
    qrPreview.innerHTML = `<img src="${qrURL}" style="width:200px;">`;

    thank.style.display="block";
};

document.getElementById("downloadQR").onclick = ()=>{
    if(!qrURL) return;

    let a = document.createElement("a");
    a.href = qrURL;
    a.download = "qr.png";
    a.click();
};
</script>

</body>
</html>